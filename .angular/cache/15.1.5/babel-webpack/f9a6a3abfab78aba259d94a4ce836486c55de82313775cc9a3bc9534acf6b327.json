{"ast":null,"code":"import { __decorate, __metadata, __param } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { Inject } from '@angular/core';\nimport { HistoireTicketService } from 'src/app/service/histoire-ticket.service';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { STEPPER_GLOBAL_OPTIONS } from '@angular/cdk/stepper';\nvar AjouterTicketHistoireFormComponent = /** @class */function () {\n  function AjouterTicketHistoireFormComponent(fb, histoireTicketService, dialogRef, data) {\n    this.fb = fb;\n    this.histoireTicketService = histoireTicketService;\n    this.dialogRef = dialogRef;\n    this.data = data;\n  }\n  AjouterTicketHistoireFormComponent.prototype.onNoClick = function () {\n    this.dialogRef.close();\n  };\n  AjouterTicketHistoireFormComponent.prototype.onSave = function () {\n    var _this = this;\n    var formData = this.form.value;\n    this.histoireTicketService.addTicket(formData).subscribe(function (response) {\n      console.log('Ticket histoire ajouté avec succès.');\n      console.log(formData);\n      _this.dialogRef.close();\n    }, function (error) {\n      console.error(\"Erreur d'enregistrement du ticket histoire ! : \", error);\n    });\n  };\n  AjouterTicketHistoireFormComponent.prototype.ngOnInit = function () {\n    this.form = this.fb.group({\n      titre: ['', Validators.required],\n      description: [''],\n      effort: ['', Validators.required],\n      priorite: ['', Validators.required]\n    });\n  };\n  AjouterTicketHistoireFormComponent.prototype.onStep1Next = function () {\n    // Vérifie si les champs de la première étape sont valides\n    if (this.form.controls['titre'].invalid || this.form.controls['description'].invalid) {\n      return;\n    }\n    // Ajoute les champs de la deuxième étape à form si ils sont valides\n    if (this.form.controls['effort'].valid) {\n      this.form.addControl('effort', this.fb.control('', Validators.required));\n    }\n    if (this.form.controls['priorite'].valid) {\n      this.form.addControl('priorite', this.fb.control('', Validators.required));\n    }\n  };\n  AjouterTicketHistoireFormComponent = __decorate([Component({\n    selector: 'app-ajouter-ticket-histoire-form',\n    templateUrl: './ajouter-ticket-histoire-form.component.html',\n    styleUrls: ['./ajouter-ticket-histoire-form.component.scss'],\n    providers: [{\n      provide: STEPPER_GLOBAL_OPTIONS,\n      useValue: {\n        showError: true\n      }\n    }]\n  }), __param(3, Inject(MAT_DIALOG_DATA)), __metadata(\"design:paramtypes\", [FormBuilder, HistoireTicketService, MatDialogRef, Object])], AjouterTicketHistoireFormComponent);\n  return AjouterTicketHistoireFormComponent;\n}();\nexport { AjouterTicketHistoireFormComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}