{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport { CdkDropList, moveItemInArray, transferArrayItem } from \"@angular/cdk/drag-drop\";\nimport { ElementRef, ViewChild } from \"@angular/core\";\nimport { Sprint } from \"src/app/model/sprint\";\nvar updateTicketPositionUrl = \"http://localhost:9999/gestion-histoire-ticket/histoireTickets/\";\nvar IconsComponent = /** @class */function () {\n  function IconsComponent(histoireTicketService, httpClient) {\n    this.histoireTicketService = histoireTicketService;\n    this.httpClient = httpClient;\n    this.todo = ['Get to work', 'Pick up groceries', 'Go home', 'Fall asleep'];\n    this.done = ['Get up', 'Brush teeth', 'Take a shower', 'Check e-mail', 'Walk dog'];\n    this.sprints = [new Sprint(), new Sprint()];\n    this.elementCreated = false;\n    this.clickCount = 0;\n  }\n  IconsComponent.prototype.drop = function (event) {\n    if (event.previousContainer === event.container) {\n      moveItemInArray(event.container.data, event.previousIndex, event.currentIndex);\n      console.log(this.histoireTickets);\n    } else {\n      var ticketId = event.previousContainer.data[event.previousIndex].id; // récupère l'ID du ticket\n      var newPosition = event.currentIndex; // récupère la nouvelle position\n      this.httpClient.put(updateTicketPositionUrl, {\n        id: ticketId,\n        position: newPosition\n      }).subscribe(function (response) {\n        return console.log('Position updated successfully!');\n      }, function (error) {\n        return console.error('Error updating position: ', error);\n      });\n      transferArrayItem(event.previousContainer.data, event.container.data, event.previousIndex, event.currentIndex);\n    }\n  };\n  IconsComponent.prototype.ngOnInit = function () {\n    var _this = this;\n    this.histoireTicketService.getListHistoireTicketByProductBacklog(1).subscribe(function (data) {\n      _this.histoireTickets = data;\n    });\n  };\n  IconsComponent.prototype.basculerElement = function () {\n    this.elementCreated = !this.elementCreated;\n    if (this.elementCreated) {\n      this.detailElementRef.nativeElement.classList.remove('col-lg-12');\n      this.detailElementRef.nativeElement.classList.add('col-lg-7');\n    } else {\n      this.detailElementRef.nativeElement.classList.remove('col-lg-7');\n      this.detailElementRef.nativeElement.classList.add('col-lg-12');\n      this.detailElementRef.nativeElement.setAttribute('[@fadeOut]');\n    }\n  };\n  ;\n  IconsComponent.prototype.move = function () {\n    this.sprints.push(new Sprint());\n    this.clickCount++;\n  };\n  __decorate([ViewChild('detailElement'), __metadata(\"design:type\", ElementRef)], IconsComponent.prototype, \"detailElementRef\", void 0);\n  __decorate([ViewChild('newElement'), __metadata(\"design:type\", ElementRef)], IconsComponent.prototype, \"newElementRef\", void 0);\n  __decorate([ViewChild('doneList'), __metadata(\"design:type\", CdkDropList)], IconsComponent.prototype, \"doneList\", void 0);\n  return IconsComponent;\n}();\nexport { IconsComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}