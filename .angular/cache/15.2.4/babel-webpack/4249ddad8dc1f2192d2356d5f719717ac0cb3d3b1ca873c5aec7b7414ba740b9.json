{"ast":null,"code":"import { __values } from \"tslib\";\nimport { ToastrService } from 'ngx-toastr';\nimport { ProductBacklogService } from 'src/app/service/product-backlog.service';\nimport { SprintService } from 'src/app/service/sprint.service';\nimport { TicketTacheService } from 'src/app/service/ticket-tache.service';\nimport Sortable from 'sortablejs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"ngx-toastr\";\nimport * as i2 from \"src/app/service/ticket-tache.service\";\nimport * as i3 from \"src/app/service/product-backlog.service\";\nimport * as i4 from \"src/app/service/sprint.service\";\nvar ScrumBoardComponent = /** @class */function () {\n  function ScrumBoardComponent(toastr, ticketTacheService, productBacklogService, sprintService) {\n    this.toastr = toastr;\n    this.ticketTacheService = ticketTacheService;\n    this.productBacklogService = productBacklogService;\n    this.sprintService = sprintService;\n    this.staticAlertClosed = false;\n    this.staticAlertClosed1 = false;\n    this.staticAlertClosed2 = false;\n    this.staticAlertClosed3 = false;\n    this.staticAlertClosed4 = false;\n    this.staticAlertClosed5 = false;\n    this.staticAlertClosed6 = false;\n    this.staticAlertClosed7 = false;\n    this.ticketsTache = [];\n    this.movedElementId = '';\n  }\n  ScrumBoardComponent.prototype.showNotification = function (from, align) {\n    var color = Math.floor(Math.random() * 5 + 1);\n    switch (color) {\n      case 1:\n        this.toastr.info('<span class=\"tim-icons icon-bell-55\" [data-notify]=\"icon\"></span> Welcome to <b>Black Dashboard Angular</b> - a beautiful freebie for every web developer.', '', {\n          disableTimeOut: true,\n          closeButton: true,\n          enableHtml: true,\n          toastClass: \"alert alert-info alert-with-icon\",\n          positionClass: 'toast-' + from + '-' + align\n        });\n        break;\n      case 2:\n        this.toastr.success('<span class=\"tim-icons icon-bell-55\" [data-notify]=\"icon\"></span> Welcome to <b>Black Dashboard Angular</b> - a beautiful freebie for every web developer.', '', {\n          disableTimeOut: true,\n          closeButton: true,\n          enableHtml: true,\n          toastClass: \"alert alert-success alert-with-icon\",\n          positionClass: 'toast-' + from + '-' + align\n        });\n        break;\n      case 3:\n        this.toastr.warning('<span class=\"tim-icons icon-bell-55\" [data-notify]=\"icon\"></span> Welcome to <b>Black Dashboard Angular</b> - a beautiful freebie for every web developer.', '', {\n          disableTimeOut: true,\n          closeButton: true,\n          enableHtml: true,\n          toastClass: \"alert alert-warning alert-with-icon\",\n          positionClass: 'toast-' + from + '-' + align\n        });\n        break;\n      case 4:\n        this.toastr.error('<span class=\"tim-icons icon-bell-55\" [data-notify]=\"icon\"></span> Welcome to <b>Black Dashboard Angular</b> - a beautiful freebie for every web developer.', '', {\n          disableTimeOut: true,\n          enableHtml: true,\n          closeButton: true,\n          toastClass: \"alert alert-danger alert-with-icon\",\n          positionClass: 'toast-' + from + '-' + align\n        });\n        break;\n      case 5:\n        this.toastr.show('<span class=\"tim-icons icon-bell-55\" [data-notify]=\"icon\"></span> Welcome to <b>Black Dashboard Angular</b> - a beautiful freebie for every web developer.', '', {\n          disableTimeOut: true,\n          closeButton: true,\n          enableHtml: true,\n          toastClass: \"alert alert-primary alert-with-icon\",\n          positionClass: 'toast-' + from + '-' + align\n        });\n        break;\n      default:\n        break;\n    }\n  };\n  ScrumBoardComponent.prototype.ngOnInit = function () {\n    var _this = this;\n    this.sprintService.getListSprintsByProductBacklog(this.productBacklogService.getProductBacklogByIdFromLocalStorage()).subscribe(function (data) {\n      _this.sprints = data;\n    });\n  };\n  ScrumBoardComponent.prototype.getTicketsTacheBySprint = function (sprintId) {\n    var _this = this;\n    if (sprintId) {\n      this.ticketTacheService.getTicketsTacheBySprint(sprintId).subscribe(function (tickets) {\n        _this.ticketsTache = tickets;\n        console.log(_this.ticketsTache);\n      });\n    } else {\n      this.ticketsTache = null;\n    }\n  };\n  // ngAfterViewInit() {\n  //   const cardBodies = document.querySelectorAll('.card-body');\n  //   const myArray = Array.from(cardBodies);\n  //   for (const body of myArray) {\n  //   const sortable = new Sortable(body, {\n  //   group: 'shared',\n  //   animation: 150,\n  //   onEnd: (evt) => {\n  //   console.log('Moved item', evt.item, 'from index', evt.oldIndex, 'to index', evt.newIndex);\n  //   console.log('Target element ID:',evt.to.id);\n  //   }\n  //   });\n  //   }\n  //   }\n  //   onDrop(event: DragEvent, tache: any) {\n  //     const targetElement = event.target as Element;\n  //     const containerElement = targetElement.closest('.card-body') as HTMLElement;\n  //     const containerId = containerElement.getAttribute('id');\n  //     console.log('Nouvel etat du ticket tâche: ', containerId);\n  //     tache.etat = containerId;\n  //     this.ticketTacheService.modifierTicketTache(tache).subscribe(\n  //         (modifiedTicket: TacheTicket) => {\n  //             console.log('Task state updated:', modifiedTicket);\n  //         },\n  //         (error: any) => {\n  //             console.error('Error updating task state:', error);\n  //         });\n  //   }\n  ScrumBoardComponent.prototype.ngAfterViewInit = function () {\n    var e_1, _a;\n    var cardBodies = document.querySelectorAll('.card-body');\n    var myArray = Array.from(cardBodies);\n    try {\n      for (var myArray_1 = __values(myArray), myArray_1_1 = myArray_1.next(); !myArray_1_1.done; myArray_1_1 = myArray_1.next()) {\n        var body = myArray_1_1.value;\n        var sortable = new Sortable(body, {\n          group: 'shared',\n          animation: 150,\n          onEnd: function (evt) {\n            console.log('Moved item', evt.item, 'from index', evt.oldIndex, 'to index', evt.newIndex);\n            console.log('Target element ID:', evt.to.id);\n          }\n        });\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (myArray_1_1 && !myArray_1_1.done && (_a = myArray_1.return)) _a.call(myArray_1);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n  };\n  ScrumBoardComponent.prototype.onDrop = function (event, tache) {\n    var targetElement = event.target;\n    var containerElement = targetElement.closest('.card-body');\n    var containerId = containerElement.getAttribute('id');\n    console.log('Nouvel etat du ticket tâche: ', containerId);\n    tache.etat = containerId;\n    this.ticketTacheService.modifierTicketTache(tache).subscribe(function (modifiedTicket) {\n      console.log('Ticket tâche déplacé:', modifiedTicket);\n    }, function (error) {\n      console.error('Erreur: ', error);\n    });\n  };\n  ScrumBoardComponent.ɵfac = function ScrumBoardComponent_Factory(t) {\n    return new (t || ScrumBoardComponent)(i0.ɵɵdirectiveInject(i1.ToastrService), i0.ɵɵdirectiveInject(i2.TicketTacheService), i0.ɵɵdirectiveInject(i3.ProductBacklogService), i0.ɵɵdirectiveInject(i4.SprintService));\n  };\n  ScrumBoardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ScrumBoardComponent,\n    selectors: [[\"app-scrum-board\"]],\n    decls: 0,\n    vars: 0,\n    template: function ScrumBoardComponent_Template(rf, ctx) {},\n    styles: [\".content[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-wrap: wrap;\\n}\\n\\n.sprint-section[_ngcontent-%COMP%] {\\n  width: 25%;\\n  height: 100vh;\\n  padding: 20px;\\n}\\n\\n#sprint-1[_ngcontent-%COMP%] {\\n  background-color: #FEDCD2;\\n}\\n\\n#sprint-2[_ngcontent-%COMP%] {\\n  background-color: #D2FEEF;\\n}\\n\\n#sprint-3[_ngcontent-%COMP%] {\\n  background-color: #FEE9D2;\\n}\\n\\n#sprint-4[_ngcontent-%COMP%] {\\n  background-color: #D2FED5;\\n}\\n\\n.ngb-alert[_ngcontent-%COMP%] {\\n  position: relative;\\n  margin: 10px;\\n  padding: 10px;\\n  border: 1px solid black;\\n  border-radius: 5px;\\n  background-color: white;\\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\\n  cursor: move;\\n  z-index: 1;\\n}\\n\\n.ngb-alert[_ngcontent-%COMP%]:hover {\\n  transform: scale(1.05);\\n  box-shadow: 4px 4px 4px rgba(0, 0, 0, 0.4);\\n}\\n\\n.ngb-alert[_ngcontent-%COMP%]:active {\\n  transform: scale(0.95);\\n  box-shadow: 0px 0px 0px rgba(0, 0, 0, 0.2);\\n}\"]\n  });\n  return ScrumBoardComponent;\n}();\nexport { ScrumBoardComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}