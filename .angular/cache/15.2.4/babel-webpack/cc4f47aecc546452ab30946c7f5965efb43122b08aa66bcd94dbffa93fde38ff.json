{"ast":null,"code":"import { __values } from \"tslib\";\nimport { MatDialog } from \"@angular/material/dialog\";\nimport { HistoireTicketService } from \"src/app/service/histoire-ticket.service\";\nimport { MembreService } from \"src/app/service/membre.service\";\nimport { RoleService } from \"src/app/service/role.service\";\nimport { SprintBacklogService } from \"src/app/service/sprint-backlog.service\";\nimport { SprintService } from \"src/app/service/sprint.service\";\nimport { TicketTacheService } from \"src/app/service/ticket-tache.service\";\nimport { AjoutTacheSpbComponent } from \"../dialogs/ajout-tache-spb/ajout-tache-spb.component\";\nimport { GestionTacheDialogComponent } from \"../dialogs/gestion-tache-dialog/gestion-tache-dialog.component\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/sprint.service\";\nimport * as i2 from \"src/app/service/histoire-ticket.service\";\nimport * as i3 from \"src/app/service/ticket-tache.service\";\nimport * as i4 from \"src/app/service/sprint-backlog.service\";\nimport * as i5 from \"src/app/service/membre.service\";\nimport * as i6 from \"@angular/material/dialog\";\nimport * as i7 from \"src/app/service/role.service\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"@angular/material/menu\";\nimport * as i10 from \"@angular/material/icon\";\nimport * as i11 from \"@angular/material/button\";\nimport * as i12 from \"@angular/material/card\";\nfunction MapComponent_ng_container_1_div_21_div_38_mat_icon_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\", 38);\n    i0.ɵɵtext(1, \"done_all\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MapComponent_ng_container_1_div_21_div_38_button_28_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function MapComponent_ng_container_1_div_21_div_38_button_28_Template_button_click_0_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r14);\n      var membre_r12 = restoredCtx.$implicit;\n      var ticketTache_r7 = i0.ɵɵnextContext().$implicit;\n      var ctx_r13 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r13.prendreTicket(membre_r12, ticketTache_r7.id));\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"person\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var membre_r12 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(membre_r12.email);\n  }\n}\nfunction MapComponent_ng_container_1_div_21_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30)(1, \"mat-card\", 31)(2, \"mat-card-header\")(3, \"mat-card-title\", 15);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementStart(5, \"span\", 32);\n    i0.ɵɵtemplate(6, MapComponent_ng_container_1_div_21_div_38_mat_icon_6_Template, 2, 0, \"mat-icon\", 33);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"mat-card-subtitle\", 15);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"mat-card-content\");\n    i0.ɵɵelement(10, \"br\")(11, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"hr\");\n    i0.ɵɵelementStart(13, \"mat-card-footer\")(14, \"div\", 25)(15, \"div\", 26)(16, \"mat-icon\");\n    i0.ɵɵtext(17, \"av_timer\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 26);\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 27)(22, \"button\", 34)(23, \"mat-icon\");\n    i0.ɵɵtext(24, \"person_add\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"mat-menu\", null, 35)(27, \"div\", 36);\n    i0.ɵɵtemplate(28, MapComponent_ng_container_1_div_21_div_38_button_28_Template, 5, 1, \"button\", 37);\n    i0.ɵɵelementEnd()()()()()()();\n  }\n  if (rf & 2) {\n    var ticketTache_r7 = ctx.$implicit;\n    var i_r8 = ctx.index;\n    var _r10 = i0.ɵɵreference(26);\n    var ctx_r5 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", ctx_r5.getBackgroundColor(i_r8 + 1));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" #\", i_r8 + 1, \"\\u00A0 - \", ticketTache_r7.titre, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ticketTache_r7.etat == \"terminer\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ticketTache_r7.description);\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(20, 8, ticketTache_r7.dateLancement));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"matMenuTriggerFor\", _r10);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.listMembre);\n  }\n}\nfunction MapComponent_ng_container_1_div_21_div_54_s_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"s\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r19 = i0.ɵɵnextContext();\n    var i_r17 = ctx_r19.index;\n    var tt_r16 = ctx_r19.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" #T\", i_r17 + 1, \"\\u00A0\\u00A0\\u00A0\", tt_r16.nbHeurs, \"H de travails\");\n  }\n}\nfunction MapComponent_ng_container_1_div_21_div_54_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 40);\n    i0.ɵɵlistener(\"click\", function MapComponent_ng_container_1_div_21_div_54_Template_div_click_0_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r21);\n      var tt_r16 = restoredCtx.$implicit;\n      var ctx_r20 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r20.openGestionTache(tt_r16));\n    });\n    i0.ɵɵelementStart(1, \"span\", 41)(2, \"p\", 42);\n    i0.ɵɵtemplate(3, MapComponent_ng_container_1_div_21_div_54_s_3_Template, 2, 2, \"s\", 43);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    var tt_r16 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", tt_r16.etat == \"terminer\");\n  }\n}\nvar _c0 = function (a0, a1, a2) {\n  return {\n    \"bg-success\": a0,\n    \"bg-warning\": a1,\n    \"bg-danger\": a2\n  };\n};\nvar _c1 = function (a0, a1, a2) {\n  return {\n    \"bg-success\": a0,\n    \"bg-warning\": a1,\n    \"bg-primary\": a2\n  };\n};\nfunction MapComponent_ng_container_1_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 9);\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵelementStart(3, \"mat-card\", 14)(4, \"mat-card-header\")(5, \"mat-card-title\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"mat-card-subtitle\", 15);\n    i0.ɵɵtext(8, \"Priorite \");\n    i0.ɵɵelementStart(9, \"span\", 16);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(11, \"mat-card-content\")(12, \"span\", 15);\n    i0.ɵɵtext(13, \"ticket histoire a une velocite de \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"span\", 17)(15, \"bold\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(17, \"br\");\n    i0.ɵɵelementStart(18, \"span\", 15);\n    i0.ɵɵtext(19, \"ticket\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\u00A0\");\n    i0.ɵɵelementStart(21, \"span\", 16);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\", 18)(24, \"span\");\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(26, \"hr\");\n    i0.ɵɵelementStart(27, \"mat-card-footer\")(28, \"div\", 19)(29, \"div\");\n    i0.ɵɵtext(30, \"date fin sprint :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(31);\n    i0.ɵɵpipe(32, \"date\");\n    i0.ɵɵelementStart(33, \"mat-icon\", 20);\n    i0.ɵɵtext(34, \"error\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(35, \"div\", 11)(36, \"div\", 21)(37, \"div\", 8);\n    i0.ɵɵtemplate(38, MapComponent_ng_container_1_div_21_div_38_Template, 29, 10, \"div\", 22);\n    i0.ɵɵelementStart(39, \"mat-card\", 23);\n    i0.ɵɵlistener(\"click\", function MapComponent_ng_container_1_div_21_Template_mat_card_click_39_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r23);\n      var task_r4 = restoredCtx.$implicit;\n      var sprintBacklog_r1 = i0.ɵɵnextContext().$implicit;\n      var ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.openAjoutDialog(task_r4.key, sprintBacklog_r1));\n    });\n    i0.ɵɵelementStart(40, \"mat-card-header\")(41, \"mat-card-title\", 15);\n    i0.ɵɵelement(42, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(43, \"mat-card-subtitle\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"mat-card-content\")(45, \"mat-icon\", 24);\n    i0.ɵɵtext(46, \"note_add\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(47, \"mat-card-footer\")(48, \"div\", 25);\n    i0.ɵɵelement(49, \"div\", 26)(50, \"div\", 27);\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(51, \"div\", 12);\n    i0.ɵɵelement(52, \"br\");\n    i0.ɵɵelementStart(53, \"div\", 28);\n    i0.ɵɵtemplate(54, MapComponent_ng_container_1_div_21_div_54_Template, 4, 1, \"div\", 29);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    var task_r4 = ctx.$implicit;\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(task_r4.key.titre);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(12, _c0, task_r4.key.priorite === \"faible\", task_r4.key.priorite === \"Moyenne\", task_r4.key.priorite === \"haute\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(task_r4.key.priorite);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(task_r4.key.effort);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(16, _c1, task_r4.key.status === \"TERMINE\", task_r4.key.status === \"EN_ATTENTE\", task_r4.key.status !== \"TERMINE\" && task_r4.key.status !== \"EN_ATTENTE\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(task_r4.key.status);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(task_r4.key.description);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(32, 10, task_r4.key.sprint.dateFin), \" \");\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", task_r4.value);\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"ngForOf\", task_r4.value);\n  }\n}\nvar _c2 = function (a0) {\n  return {\n    \"active\": a0\n  };\n};\nfunction MapComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r26 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 2)(2, \"div\", 3)(3, \"h2\", 4);\n    i0.ɵɵlistener(\"click\", function MapComponent_ng_container_1_Template_h2_click_3_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r26);\n      var i_r2 = restoredCtx.index;\n      var ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.toggleAccordion(i_r2));\n    });\n    i0.ɵɵelementStart(4, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function MapComponent_ng_container_1_Template_button_click_4_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r26);\n      var sprintBacklog_r1 = restoredCtx.$implicit;\n      var ctx_r27 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r27.afficherDetailSprintBacklog(sprintBacklog_r1));\n    });\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 6)(7, \"div\", 7)(8, \"div\", 8)(9, \"div\", 9);\n    i0.ɵɵelement(10, \"br\");\n    i0.ɵɵelementStart(11, \"p\", 10);\n    i0.ɵɵtext(12, \"Utilisateur histoire\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 11);\n    i0.ɵɵelement(14, \"br\");\n    i0.ɵɵelementStart(15, \"p\", 10);\n    i0.ɵɵtext(16, \"Liste des t\\u00E2ches\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 12);\n    i0.ɵɵelement(18, \"br\");\n    i0.ɵɵelementStart(19, \"p\", 10);\n    i0.ɵɵtext(20, \"Heurs de travail\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(21, MapComponent_ng_container_1_div_21_Template, 55, 20, \"div\", 13);\n    i0.ɵɵpipe(22, \"keyvalue\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    var i_r2 = ctx.index;\n    var ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"id\", \"accordionExample\" + i_r2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"heading\", i_r2, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.activeIndex !== i_r2 && ctx_r0.activeIndex != -1);\n    i0.ɵɵattribute(\"data-bs-target\", \"#collapse\" + i_r2)(\"aria-controls\", \"collapse\" + i_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" SprintBacklog #\", ctx_r0.reverseIndex(i_r2, ctx_r0.sprintBacklogs.length), \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"aria-labelledby\", \"heading\", i_r2, \"\");\n    i0.ɵɵproperty(\"data-bs-parent\", \"#accordionExample\" + i_r2);\n    i0.ɵɵattribute(\"id\", \"collapse\" + i_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(14, _c2, ctx_r0.activeIndex === i_r2))(\"hidden\", ctx_r0.activeIndex !== i_r2);\n    i0.ɵɵadvance(14);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(22, 12, ctx_r0.taskMap));\n  }\n}\nvar MapComponent = /** @class */function () {\n  function MapComponent(sprintService, ticketHistoireService, ticketTacheService, sprintBacklogService, membreService, dialogAjout, roleService, dialogGestion) {\n    this.sprintService = sprintService;\n    this.ticketHistoireService = ticketHistoireService;\n    this.ticketTacheService = ticketTacheService;\n    this.sprintBacklogService = sprintBacklogService;\n    this.membreService = membreService;\n    this.dialogAjout = dialogAjout;\n    this.roleService = roleService;\n    this.dialogGestion = dialogGestion;\n    this.sprintBacklogs = [];\n    this.ticketsTache = [];\n    this.taskMap = new Map();\n    this.listMembre = [];\n    this.endDate = new Date('2023-03-31T23:59:59');\n    this.activeIndex = -1;\n  }\n  MapComponent.prototype.ngOnInit = function () {\n    var _this = this;\n    var projet = JSON.parse(localStorage.getItem('projets'));\n    this.roleService.afficherListRoleParProjet(projet.id).subscribe(function (data) {\n      var e_1, _a;\n      console.log(data);\n      try {\n        for (var data_1 = __values(data), data_1_1 = data_1.next(); !data_1_1.done; data_1_1 = data_1.next()) {\n          var role = data_1_1.value;\n          _this.listMembre.push(role.membre);\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (data_1_1 && !data_1_1.done && (_a = data_1.return)) _a.call(data_1);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n    });\n    var productBacklog = JSON.parse(localStorage.getItem('productBacklog'));\n    this.sprintService.getListSprintsByProductBacklog(productBacklog.id).subscribe(function (listSprintData) {\n      console.log(listSprintData);\n      _this.sprintsList = listSprintData;\n      for (var i = 0; i < listSprintData.length; i++) _this.sprintBacklogService.afficherSprintBacklogBySprintId(listSprintData[i].id).subscribe(function (sprintBacklogData) {\n        console.log(sprintBacklogData);\n        _this.sprintBacklogs.push(sprintBacklogData);\n      });\n    });\n  };\n  MapComponent.prototype.afficherDetailSprintBacklog = function (sprintBacklog) {\n    var _this = this;\n    console.log(sprintBacklog.sprint.id);\n    var taskMap = new Map();\n    this.ticketHistoireService.getHistoireTicketBySprintId(sprintBacklog.sprint.id).subscribe(function (data) {\n      var e_2, _a;\n      _this.ticketsHistoireList = data;\n      var _loop_1 = function (ht) {\n        _this.ticketTacheService.getListTicketTacheParHt(ht.id).subscribe(function (listTacheData) {\n          _this.ticketsTache = listTacheData;\n          taskMap.set(ht, _this.ticketsTache);\n          console.log(_this.ticketsTache);\n        });\n      };\n      try {\n        for (var _b = __values(_this.ticketsHistoireList), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var ht = _c.value;\n          _loop_1(ht);\n        }\n      } catch (e_2_1) {\n        e_2 = {\n          error: e_2_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_2) throw e_2.error;\n        }\n      }\n      _this.taskMap = taskMap;\n    });\n  };\n  //choix couleur tache \n  MapComponent.prototype.getBackgroundColor = function (index) {\n    if (index % 2 === 0) {\n      return {\n        'background-color': '#C8F8F3'\n      };\n    } else if (index % 3 == 0 && index % 2 == 0) {\n      return {\n        'background-color': '#F0FCCA'\n      };\n    } else if (index % 3 == 0) {\n      return {\n        'background-color': '#EFF8C2'\n      };\n    } else if (index % 7 == 0) {\n      return {\n        'background-color': '#F8E7C2'\n      };\n    } else if (index == 1) {\n      return {\n        'background-color': '#DDDAD3'\n      };\n    } else {\n      return {};\n    }\n  };\n  MapComponent.prototype.prendreTicket = function (membre, idTicketTache) {\n    var _this = this;\n    this.ticketTacheService.affecterTicketAMembre(membre, idTicketTache).subscribe(function (dataTicket) {\n      _this.ticketsTache.forEach(function (ticket) {\n        if (ticket.id == idTicketTache) {\n          ticket.dateFin = dataTicket.dateFin;\n          ticket.dateLancement = dataTicket.dateLancement;\n          ticket.membre = dataTicket.membre;\n          ticket.membreId = dataTicket.membreId;\n        }\n      });\n    });\n  };\n  MapComponent.prototype.reverseIndex = function (index, length) {\n    return length - index;\n  };\n  MapComponent.prototype.toggleAccordion = function (index) {\n    if (index === this.activeIndex) {\n      this.sprintBacklogs[index].isOpen = false;\n      this.activeIndex = -1;\n    } else {\n      this.sprintBacklogs.forEach(function (item, i) {\n        item.isOpen = i === index ? true : false;\n      });\n      this.activeIndex = index;\n    }\n  };\n  MapComponent.prototype.openAjoutDialog = function (ht, sprintBacklog) {\n    var _this = this;\n    var dialogRef = this.dialogAjout.open(AjoutTacheSpbComponent, {\n      width: '350px',\n      height: '450px',\n      data: {\n        sprintBacklog: sprintBacklog,\n        ticketHistoire: ht\n      }\n    });\n    dialogRef.afterClosed().subscribe(function (result) {\n      var e_3, _a;\n      if (result) {\n        var ticketHistoire = result.ht;\n        try {\n          for (var _b = __values(_this.taskMap.keys()), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var key = _c.value;\n            if (key.id === ticketHistoire.id) {\n              var listeTache = _this.taskMap.get(key);\n              listeTache.push(result);\n            }\n          }\n        } catch (e_3_1) {\n          e_3 = {\n            error: e_3_1\n          };\n        } finally {\n          try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n          } finally {\n            if (e_3) throw e_3.error;\n          }\n        }\n      }\n    });\n  };\n  MapComponent.prototype.openGestionTache = function (tt) {\n    var _this = this;\n    var dialogRef = this.dialogGestion.open(GestionTacheDialogComponent, {\n      width: '650px',\n      height: '300px',\n      data: {\n        ticketTache: tt\n      }\n    });\n    dialogRef.afterClosed().subscribe(function (result) {\n      var e_4, _a, e_5, _b;\n      console.log(result);\n      if (result.mode == 'modifier') {\n        console.log(\"test\");\n        try {\n          for (var _c = __values(_this.taskMap.keys()), _d = _c.next(); !_d.done; _d = _c.next()) {\n            var key = _d.value;\n            if (key.id === result.tt.ht.id) {\n              var listeTache = _this.taskMap.get(key);\n              listeTache[listeTache.indexOf(tt)] = result.tt;\n            }\n          }\n        } catch (e_4_1) {\n          e_4 = {\n            error: e_4_1\n          };\n        } finally {\n          try {\n            if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n          } finally {\n            if (e_4) throw e_4.error;\n          }\n        }\n      } else if (result.mode == 'supprimer') {\n        var ticketHistoire = result.tt.ht;\n        try {\n          for (var _e = __values(_this.taskMap.keys()), _f = _e.next(); !_f.done; _f = _e.next()) {\n            var key = _f.value;\n            if (key.id === ticketHistoire.id) {\n              var listeTache = _this.taskMap.get(key);\n              console.log(listeTache.indexOf(tt));\n              listeTache.splice(listeTache.indexOf(tt), 1);\n            }\n          }\n        } catch (e_5_1) {\n          e_5 = {\n            error: e_5_1\n          };\n        } finally {\n          try {\n            if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n          } finally {\n            if (e_5) throw e_5.error;\n          }\n        }\n      }\n    });\n  };\n  MapComponent.ɵfac = function MapComponent_Factory(t) {\n    return new (t || MapComponent)(i0.ɵɵdirectiveInject(i1.SprintService), i0.ɵɵdirectiveInject(i2.HistoireTicketService), i0.ɵɵdirectiveInject(i3.TicketTacheService), i0.ɵɵdirectiveInject(i4.SprintBacklogService), i0.ɵɵdirectiveInject(i5.MembreService), i0.ɵɵdirectiveInject(i6.MatDialog), i0.ɵɵdirectiveInject(i7.RoleService), i0.ɵɵdirectiveInject(i6.MatDialog));\n  };\n  MapComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MapComponent,\n    selectors: [[\"app-map\"]],\n    decls: 2,\n    vars: 1,\n    consts: [[1, \"content\", 2, \"margin-top\", \"5%\"], [4, \"ngFor\", \"ngForOf\"], [1, \"accordion\", 2, \"margin-bottom\", \"4%\"], [1, \"accordion-item\"], [1, \"accordion-header\", 3, \"id\", \"click\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"aria-expanded\", \"true\", 1, \"accordion-button\", \"bg-danger\", 3, \"disabled\", \"click\"], [1, \"accordion-collapse\", \"bg-dark\", \"collapse\", 3, \"aria-labelledby\", \"data-bs-parent\"], [1, \"accordion-body\", 2, \"margin-top\", \"0px\", \"margin-left\", \"0px\", 3, \"ngClass\", \"hidden\"], [1, \"row\"], [1, \"col-lg-4\", \"col-md-4\", \"col-sm-4\", \"hashed-border\"], [1, \"title\", \"text-light\", \"text-center\"], [1, \"col-lg-6\", \"col-md-6\", \"col-sm-6\", \"hashed-border\"], [1, \"col-lg-2\", \"col-md-2\", \"col-sm-2\", \"hashed-border\"], [\"class\", \"row\", 4, \"ngFor\", \"ngForOf\"], [1, \"example-card\", 2, \"margin-bottom\", \"4%\"], [1, \"title\"], [1, \"badge\", \"rounded-pill\", 3, \"ngClass\"], [1, \"text-warning\"], [2, \"border\", \"2px solid rgba(10,220,15,0.6)\", \"margin-top\", \"2%\", \"padding\", \"5px\"], [1, \"d-flex\", \"justify-content-evenly\"], [1, \"text-danger\", 2, \"margin-bottom\", \"1%\"], [1, \"container\"], [\"class\", \"col-lg-6 col-md-6 col-sm-6\", 4, \"ngFor\", \"ngForOf\"], [\"mat-button\", \"\", 1, \"btn\", \"col-lg-5\", \"bg-light\", \"col-md-5\", \"light\", \"col-sm-5\", 2, \"margin-top\", \"6%\", \"border-top-right-radius\", \"30%\", \"cursor\", \"pointer\", 3, \"click\"], [2, \"font-size\", \"600%\", \"width\", \"auto\", \"height\", \"auto\", \"margin-left\", \"30%\", \"border-top-right-radius\", \"100px\"], [1, \"d-flex\", \"bd-highlight\", \"mb-1\"], [1, \"p-2\", \"bd-highlight\"], [1, \"ms-auto\", \"p-2\", \"bd-highlight\"], [1, \"container\", \"justify-content-center\"], [\"class\", \"row my-btn\", \"matTooltip\", \"clicker ici\", \"style\", \"margin-bottom: 4%;\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-lg-6\", \"col-md-6\", \"col-sm-6\"], [1, \"example-card\", 2, \"margin-top\", \"6%\", 3, \"ngStyle\"], [1, \"pull-right\"], [\"class\", \"text-success\", 4, \"ngIf\"], [\"mat-icon-button\", \"\", \"aria-label\", \"Example icon-button with a menu\", 2, \"margin-top\", \"-27%\", \"border\", \"1px solidblack\", 3, \"matMenuTriggerFor\"], [\"menu\", \"matMenu\"], [2, \"overflow-y\", \"auto\", \"max-height\", \"100px\"], [\"mat-menu-item\", \"\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-success\"], [\"mat-menu-item\", \"\", 3, \"click\"], [\"matTooltip\", \"clicker ici\", 1, \"row\", \"my-btn\", 2, \"margin-bottom\", \"4%\", 3, \"click\"], [1, \"badge\", \"col-lg-12\", \"col-md-12\", \"col-sm-12\", \"w-75\", \"p-3\", \"bg-secondary\", \"rounded-pill\", 2, \"margin-left\", \"1%\", \"font-size\", \"100%\"], [1, \"title\", \"text-dark\"], [4, \"ngIf\"]],\n    template: function MapComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, MapComponent_ng_container_1_Template, 23, 16, \"ng-container\", 1);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.sprintBacklogs);\n      }\n    },\n    dependencies: [i8.NgClass, i8.NgForOf, i8.NgIf, i8.NgStyle, i9.MatMenu, i9.MatMenuItem, i9.MatMenuTrigger, i10.MatIcon, i11.MatIconButton, i12.MatCard, i12.MatCardContent, i12.MatCardFooter, i12.MatCardHeader, i12.MatCardSubtitle, i12.MatCardTitle, i8.DatePipe, i8.KeyValuePipe],\n    styles: [\"h2[_ngcontent-%COMP%] {\\n  color: #555;\\n  font-size: 36px;\\n  font-weight: 700;\\n}\\n\\n.hashed-border[_ngcontent-%COMP%] {\\n  border: 1px dotted grey;\\n}\\n\\n.light[_ngcontent-%COMP%] {\\n  box-shadow: 5px 5px 10px 2px rgba(255, 255, 255, 0.8);\\n}\\n\\n.my-btn[_ngcontent-%COMP%]:hover {\\n  cursor: pointer;\\n  opacity: 0.6;\\n  transition: all 0.5s;\\n}\"]\n  });\n  return MapComponent;\n}();\nexport { MapComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}