{"ast":null,"code":"import Chart from 'chart.js';\nimport * as i0 from \"@angular/core\";\nvar CourbesComponent = /** @class */function () {\n  function CourbesComponent() {\n    this.tickets = [{\n      id: 1,\n      title: 'Ticket 1',\n      effort: 5\n    }, {\n      id: 2,\n      title: 'Ticket 2',\n      effort: 3\n    }, {\n      id: 3,\n      title: 'Ticket 3',\n      effort: 2\n    }, {\n      id: 4,\n      title: 'Ticket 4',\n      effort: 4\n    }, {\n      id: 5,\n      title: 'Ticket 5',\n      effort: 6\n    }];\n    this.totalEffort = this.tickets.reduce(function (total, ticket) {\n      return total + ticket.effort;\n    }, 0);\n    this.burnDownData = [{\n      day: 0,\n      effortLeft: this.totalEffort,\n      idealEffort: this.totalEffort\n    }];\n  }\n  CourbesComponent.prototype.ngOnInit = function () {\n    var _this = this;\n    var sprintLength = 5;\n    this.tickets.forEach(function (ticket, index) {\n      var day = Math.floor(index / _this.tickets.length * sprintLength) + 1;\n      var dayEffort = _this.tickets.slice(0, index + 1).reduce(function (total, t) {\n        return total + t.effort;\n      }, 0);\n      var idealEffort = _this.totalEffort - _this.totalEffort / sprintLength * day;\n      var effortLeft = _this.totalEffort - dayEffort;\n      _this.burnDownData.push({\n        day: day,\n        effortLeft: effortLeft,\n        idealEffort: idealEffort\n      });\n    });\n    var burnDownChart = new Chart('burnDownChart', {\n      type: 'line',\n      data: {\n        labels: this.burnDownData.map(function (data) {\n          return data.day;\n        }),\n        datasets: [{\n          label: 'Effort Left',\n          data: this.burnDownData.map(function (data) {\n            return data.effortLeft;\n          }),\n          fill: false,\n          borderColor: 'red'\n        }, {\n          label: 'Ideal Effort',\n          data: this.burnDownData.map(function (data) {\n            return data.idealEffort;\n          }),\n          fill: false,\n          borderColor: 'green'\n        }]\n      },\n      options: {\n        title: {\n          display: true,\n          text: 'Burn Down Chart'\n        },\n        scales: {\n          xAxes: [{\n            scaleLabel: {\n              display: true,\n              labelString: 'Days'\n            }\n          }],\n          yAxes: [{\n            scaleLabel: {\n              display: true,\n              labelString: 'Effort'\n            }\n          }]\n        }\n      }\n    });\n  };\n  CourbesComponent.ɵfac = function CourbesComponent_Factory(t) {\n    return new (t || CourbesComponent)();\n  };\n  CourbesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CourbesComponent,\n    selectors: [[\"app-courbes\"]],\n    decls: 4,\n    vars: 0,\n    consts: [[1, \"container\"], [\"id\", \"burnDownChart\"]],\n    template: function CourbesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n        i0.ɵɵtext(2, \"Burn Down Chart\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(3, \"canvas\", 1);\n        i0.ɵɵelementEnd();\n      }\n    }\n  });\n  return CourbesComponent;\n}();\nexport { CourbesComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}